(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{363:function(t,s,e){"use strict";e.r(s);var a=e(42),r=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"prequisited"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#prequisited"}},[t._v("#")]),t._v(" Prequisited")]),t._v(" "),e("ul",[e("li",[t._v("All requests require a "),e("code",[t._v("Content-Type")]),t._v(" of "),e("code",[t._v("application/json")]),t._v(".")]),t._v(" "),e("li",[t._v("The API is located at https://nextcloud.local/index.php/apps/libresign/api/v1.0")]),t._v(" "),e("li",[t._v("All request parameters are required, unless otherwise specified")])]),t._v(" "),e("h1",{attrs:{id:"headers"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#headers"}},[t._v("#")]),t._v(" Headers")]),t._v(" "),e("p",[t._v("Read https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Authorization")]),t._v(" "),e("p",[t._v("Example:")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -X POST "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  http://localhost/index.php/apps/libresign/api/0.1/webhook/register "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  -H "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Accept: application/json'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  -H "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Authorization: Basic YWRtaW46YWRtaW4='")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  -H "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Content-Type: application/json'")]),t._v("\n  -d "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'{\n\t"file": {\n\t\t"url": "https://test.coop/test.pdf"\n\t},\n\t"name": "test",\n\t"users": [\n\t\t{\n\t\t\t"display_name": "Jhon Doe",\n\t\t\t"email": "jhondoe@test.coop",\n\t\t\t"description": "Lorem ipsum"\n\t\t}\n\t]\n}\'')]),t._v("\n")])])]),e("h1",{attrs:{id:"endpoints"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#endpoints"}},[t._v("#")]),t._v(" Endpoints")]),t._v(" "),e("h2",{attrs:{id:"webhook"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#webhook"}},[t._v("#")]),t._v(" Webhook")]),t._v(" "),e("h3",{attrs:{id:"webhook-register"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#webhook-register"}},[t._v("#")]),t._v(" webhook/register")]),t._v(" "),e("h4",{attrs:{id:"request-body"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#request-body"}},[t._v("#")]),t._v(" Request body")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Parameter")]),t._v(" "),e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("file")]),t._v(" "),e("td",[t._v("File")]),t._v(" "),e("td",[t._v("File to sign")])]),t._v(" "),e("tr",[e("td",[t._v("users")]),t._v(" "),e("td",[t._v("array of User")]),t._v(" "),e("td",[t._v("List of users to sign file")])]),t._v(" "),e("tr",[e("td",[t._v("name")]),t._v(" "),e("td",[t._v("string")]),t._v(" "),e("td",[e("strong",[t._v("optional")]),t._v(" Name for file")])]),t._v(" "),e("tr",[e("td",[t._v("callback")]),t._v(" "),e("td",[t._v("string")]),t._v(" "),e("td",[t._v("Callback url when a user sign file")])])])]),t._v(" "),e("p",[t._v("Parameters of File object")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Parameter")]),t._v(" "),e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("url")]),t._v(" "),e("td",[t._v("string")]),t._v(" "),e("td",[e("strong",[t._v("optional")]),t._v(" Public URL of file")])]),t._v(" "),e("tr",[e("td",[t._v("base64")]),t._v(" "),e("td",[t._v("string")]),t._v(" "),e("td",[e("strong",[t._v("optional")]),t._v(" File in base64")])])])]),t._v(" "),e("p",[t._v("Parameters of User object")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Parameter")]),t._v(" "),e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("email")]),t._v(" "),e("td",[t._v("string")]),t._v(" "),e("td",[t._v("Email of user")])]),t._v(" "),e("tr",[e("td",[t._v("display_name")]),t._v(" "),e("td",[t._v("string")]),t._v(" "),e("td",[e("strong",[t._v("optional")]),t._v(" Display name of user")])]),t._v(" "),e("tr",[e("td",[t._v("description")]),t._v(" "),e("td",[t._v("string")]),t._v(" "),e("td",[e("strong",[t._v("optional")]),t._v(" Description to signers")])])])]),t._v(" "),e("h4",{attrs:{id:"response"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#response"}},[t._v("#")]),t._v(" Response")]),t._v(" "),e("h5",{attrs:{id:"_200-success"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_200-success"}},[t._v("#")]),t._v(" 200 Success")]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"message"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Success"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("h5",{attrs:{id:"_403-forbidden"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_403-forbidden"}},[t._v("#")]),t._v(" 403 Forbidden")]),t._v(" "),e("p",[t._v("A 403 response might be returned if the users ability to access webhook has been disabled by the administrator.")]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"message"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Insufficient permissions to use API"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=r.exports}}]);